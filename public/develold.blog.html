<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html dir='ltr' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'> 
<head> 
<script type="text/javascript">(function() { var a=window;function e(b){this.t={};this.tick=function(c,h,d){d=d?d:(new Date).getTime();this.t[c]=[d,h]};this.tick("start",null,b)}var f=new e;a.jstiming={Timer:e,load:f};try{a.jstiming.pt=a.gtbExternal&&a.gtbExternal.pageT()||a.external&&a.external.pageT}catch(g){};a.tickAboveFold=function(b){b=b;var c=0;if(b.offsetParent){do c+=b.offsetTop;while(b=b.offsetParent)}b=c;b<=750&&a.jstiming.load.tick("aft")};var i=false;function j(){if(!i){i=true;a.jstiming.load.tick("firstScrollTime")}}a.addEventListener?a.addEventListener("scroll",j,false):a.attachEvent("onscroll",j); })();</script> 
<meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/> 
<meta content='true' name='MSSmartTagsPreventParsing'/> 
<meta content='blogger' name='generator'/> 

<!-- <link href='http://www.blogger.com/favicon.ico' rel='icon' type='image/vnd.microsoft.icon'/>  -->
<!-- <link href='http://blog.mikedll.com/search/label/SysAdmin' rel='canonical'/>  -->
<!-- <link rel="alternate" type="application/atom+xml" title="Mike De La Loza's Blog - Atom" href="http://blog.mikedll.com/feeds/posts/default" />  -->
<!-- <link rel="alternate" type="application/rss+xml" title="Mike De La Loza's Blog - RSS" href="http://blog.mikedll.com/feeds/posts/default?alt=rss" />  -->
<!-- <link rel="service.post" type="application/atom+xml" title="Mike De La Loza's Blog - Atom" href="http://www.blogger.com/feeds/7582484020620472706/posts/default" />  -->
<!-- <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://www.blogger.com/rsd.g?blogID=7582484020620472706" />  -->
<!-- <link rel="me" href="http://www.blogger.com/profile/12356499840433534504" />  -->
<!-- <link rel="openid.server" href="http://www.blogger.com/openid-server.g" />  -->

<title>Mike De La Loza's Blog: SysAdmin</title> 

<link type='text/css' rel='stylesheet' href='http://www.blogger.com/static/v1/widgets/1550194411-widget_css_bundle.css' /> 
 <link rel="stylesheet" type="text/css" href="http://www.blogger.com/static/v1/v-css/3727950723-blog_controls.css"/> 
 <link rel="stylesheet" type="text/css" href="http://www.blogger.com/dyn-css/authorization.css?targetBlogID=7582484020620472706&zx=a75b1ad5-3a49-449b-9efe-da1c3bcb231b"/> 
<style type="text/css">#navbar-iframe { display:block }
</style> 
 
<style id='page-skin-1' type='text/css'>
@import url(stylesheets/blog.css);
</style> 

<script type="text/javascript"> 
if (window.jstiming) window.jstiming.load.tick('headEnd');
</script></head> 
<body> 
<div class='navbar section' id='navbar'><div class='widget Navbar' id='Navbar1'><script type="text/javascript"> 
    function setAttributeOnload(object, attribute, val) {
      if(window.addEventListener) {
        window.addEventListener("load",
          function(){ object[attribute] = val; }, false);
      } else {
        window.attachEvent('onload', function(){ object[attribute] = val; });
      }
    }
  </script> 
<iframe src="http://www.blogger.com/navbar.g?targetBlogID=7582484020620472706&amp;blogName=Mike+De+La+Loza%27s+Blog&amp;publishMode=PUBLISH_MODE_HOSTED&amp;navbarType=BLUE&amp;layoutType=LAYOUTS&amp;searchRoot=http%3A%2F%2Fblog.mikedll.com%2Fsearch&amp;blogLocale=en&amp;homepageUrl=http%3A%2F%2Fblog.mikedll.com%2F" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" height="30px" width="100%" id="navbar-iframe" allowtransparency="true" title="Blogger Navigation and Search"></iframe> 
<div></div></div></div> 
<div id='outer-wrapper'><div id='wrap2'> 
<!-- skip links for text browsers --> 
<span id='skiplinks' style='display:none;'> 
<a href='#main'>skip to main </a> |
      <a href='#sidebar'>skip to sidebar</a> 
</span> 
<div id='header-wrapper'> 
<div class='header section' id='header'><div class='widget Header' id='Header1'> 
<div id='header-inner'> 
<div class='titlewrapper'> 
<h1 class='title'> 
<a href='http://blog.mikedll.com/'>Mike De La Loza's Blog</a> 
</h1> 
</div> 
<div class='descriptionwrapper'> 
<p class='description'><span> 
</span></p> 
</div> 
</div> 
</div></div> 
</div> 
<div id='content-wrapper'> 
<div id='sidebar-wrapper'> 
<div class='sidebar section' id='sidebar'><div class='widget LinkList' id='LinkList2'> 
<div class='widget-content'> 
<ul> 
<li><a href='http://www.mikedll.com/'>Mike's Homepage</a></li> 
</ul> 
<div class='clear'></div> 
<span class='widget-item-control'> 
<span class='item-control blog-admin'> 
<a class='quickedit' href='http://www.blogger.com/rearrange?blogID=7582484020620472706&widgetType=LinkList&widgetId=LinkList2&action=editWidget' onclick='return _WidgetManager._PopupConfig(document.getElementById("LinkList2"));' target='configLinkList2' title='Edit'> 

</a> 
</span> 
</span> 
<div class='clear'></div> 
</div> 
</div><div class='widget Subscribe' id='Subscribe1'> 
<div style='white-space:nowrap'> 
<h2 class='title'>Subscribe To</h2> 
<div class='widget-content'> 
<div class='subscribe-wrapper subscribe-type-POST'> 
<div class='subscribe expanded subscribe-type-POST' id='SW_READER_LIST_Subscribe1POST' style='display:none;'> 
<div class='top'> 
<span class='inner' onclick='return(_SW_toggleReaderList(event, "Subscribe1POST"));'> 
Posts
</span> 
<ul class='feed-reader-links'> 
<a class='feed-reader-link' href='http://www.google.com/ig/add?source=bstp&feedurl=http%3A%2F%2Fblog.mikedll.com%2Ffeeds%2Fposts%2Fdefault' target='_blank'> 

</a> 
<a class='feed-reader-link' href='http://www.bloglines.com/sub/http://blog.mikedll.com/feeds/posts/default' target='_blank'> 

</a> 
<a class='feed-reader-link' href='http://www.netvibes.com/subscribe.php?url=http%3A%2F%2Fblog.mikedll.com%2Ffeeds%2Fposts%2Fdefault' target='_blank'> 

</a> 
<a class='feed-reader-link' href='http://www.newsgator.com/ngs/subscriber/subext.aspx?url=http%3A%2F%2Fblog.mikedll.com%2Ffeeds%2Fposts%2Fdefault' target='_blank'> 

</a> 
<a class='feed-reader-link' href='http://add.my.yahoo.com/content?url=http%3A%2F%2Fblog.mikedll.com%2Ffeeds%2Fposts%2Fdefault' target='_blank'> 

</a> 
<a class='feed-reader-link' href='http://blog.mikedll.com/feeds/posts/default' target='_blank'> 

                            Atom
                          </a> 
</ul> 
</div> 
<div class='bottom'></div> 
</div> 
<div class='subscribe' id='SW_READER_LIST_CLOSED_Subscribe1POST' onclick='return(_SW_toggleReaderList(event, "Subscribe1POST"));'> 
<div class='top'> 
<span class='inner'> 

<span onclick='return(_SW_toggleReaderList(event, "Subscribe1POST"));'> 

Posts
</span> 
</span> 
</div> 
<div class='bottom'></div> 
</div> 
</div> 
<div style='clear:both'></div> 
</div> 
</div> 
<div class='clear'></div> 
<span class='widget-item-control'> 
<span class='item-control blog-admin'> 
<a class='quickedit' href='http://www.blogger.com/rearrange?blogID=7582484020620472706&widgetType=Subscribe&widgetId=Subscribe1&action=editWidget' onclick='return _WidgetManager._PopupConfig(document.getElementById("Subscribe1"));' target='configSubscribe1' title='Edit'> 

</a> 
</span> 
</span> 
<div class='clear'></div> 
</div><div class='widget BlogArchive' id='BlogArchive1'> 
<h2>Blog Archive</h2> 
<div class='widget-content'> 
<div id='ArchiveList'> 
<div id='BlogArchive1_ArchiveList'> 
<ul> 
<li class='archivedate expanded'> 
<a class='toggle' href='javascript:void(0)'> 
<span class='zippy toggle-open'>&#9660;&#160;</span> 
</a> 
<a class='post-count-link' href='http://blog.mikedll.com/search?updated-min=2009-01-01T00%3A00%3A00-08%3A00&updated-max=2010-01-01T00%3A00%3A00-08%3A00&max-results=13'>2009</a> 
<span class='post-count' dir='ltr'>(13)</span> 
<ul> 
<li class='archivedate collapsed'> 
<a class='toggle' href='javascript:void(0)'> 
<span class='zippy'> 
 
                      &#9658;&#160;
                    
</span> 
</a> 
<a class='post-count-link' href='http://blog.mikedll.com/2009_09_01_archive.html'>September</a> 
<span class='post-count' dir='ltr'>(3)</span> 
<ul class='posts'> 
<li><a href='http://blog.mikedll.com/2009/09/first-physicsthermo-problem.html'>Thermo Problem 1</a></li> 
<li><a href='http://blog.mikedll.com/2009/09/chemi-osmatic-type-of-mechanism-for-atp.html'>A chemi-osmatic type of mechanism for ATP synthesi...</a></li> 
<li><a href='http://blog.mikedll.com/2009/09/balanced-avl-binary-search-tree.html'>Balanced (AVL) Binary Search Tree Implementation i...</a></li> 
</ul> 
</li> 
</ul> 
<ul> 
<li class='archivedate expanded'> 
<a class='toggle' href='javascript:void(0)'> 
<span class='zippy toggle-open'>&#9660;&#160;</span> 
</a> 
<a class='post-count-link' href='http://blog.mikedll.com/2009_08_01_archive.html'>August</a> 
<span class='post-count' dir='ltr'>(6)</span> 
<ul class='posts'> 
<li><a href='http://blog.mikedll.com/2009/08/quickstart-with-ruby-testunit.html'>Quickstart with Ruby&#39;s Test::Unit</a></li> 
<li><a href='http://blog.mikedll.com/2009/08/deploying-rails-application-to_14.html'>Deploying a Rails Application to Dreamhost Part 2</a></li> 
<li><a href='http://blog.mikedll.com/2009/08/work-with-ngos.html'>Work with NGOs</a></li> 
<li><a href='http://blog.mikedll.com/2009/08/create-rails-application-on-dreamhost.html'>Create a Rails Application on Dreamhost</a></li> 
<li><a href='http://blog.mikedll.com/2009/08/midway-through-book-about-being-dad.html'>Midway through a book about being a dad</a></li> 
<li><a href='http://blog.mikedll.com/2009/08/prokaryotes-i.html'>Prokaryotes I</a></li> 
</ul> 
</li> 
</ul> 
<ul> 
<li class='archivedate collapsed'> 
<a class='toggle' href='javascript:void(0)'> 
<span class='zippy'> 
 
                      &#9658;&#160;
                    
</span> 
</a> 
<a class='post-count-link' href='http://blog.mikedll.com/2009_07_01_archive.html'>July</a> 
<span class='post-count' dir='ltr'>(1)</span> 
<ul class='posts'> 
<li><a href='http://blog.mikedll.com/2009/07/my-lasik-experience.html'>My Lasik Experience</a></li> 
</ul> 
</li> 
</ul> 
<ul> 
<li class='archivedate collapsed'> 
<a class='toggle' href='javascript:void(0)'> 
<span class='zippy'> 
 
                      &#9658;&#160;
                    
</span> 
</a> 
<a class='post-count-link' href='http://blog.mikedll.com/2009_05_01_archive.html'>May</a> 
<span class='post-count' dir='ltr'>(2)</span> 
<ul class='posts'> 
<li><a href='http://blog.mikedll.com/2009/05/cholesterol-has-improved.html'>Cholesterol has improved</a></li> 
<li><a href='http://blog.mikedll.com/2009/05/how-to-install-software-despite-broken.html'>How to install software despite a broken CD rom dr...</a></li> 
</ul> 
</li> 
</ul> 
<ul> 
<li class='archivedate collapsed'> 
<a class='toggle' href='javascript:void(0)'> 
<span class='zippy'> 
 
                      &#9658;&#160;
                    
</span> 
</a> 
<a class='post-count-link' href='http://blog.mikedll.com/2009_01_01_archive.html'>January</a> 
<span class='post-count' dir='ltr'>(1)</span> 
<ul class='posts'> 
<li><a href='http://blog.mikedll.com/2009/01/rails-cygwin-gems-issue.html'>Rails Cygwin Gems Issue</a></li> 
</ul> 
</li> 
</ul> 
</li> 
</ul> 
<ul> 
<li class='archivedate collapsed'> 
<a class='toggle' href='javascript:void(0)'> 
<span class='zippy'> 
 
                      &#9658;&#160;
                    
</span> 
</a> 
<a class='post-count-link' href='http://blog.mikedll.com/search?updated-min=2008-01-01T00%3A00%3A00-08%3A00&updated-max=2009-01-01T00%3A00%3A00-08%3A00&max-results=1'>2008</a> 
<span class='post-count' dir='ltr'>(1)</span> 
<ul> 
<li class='archivedate collapsed'> 
<a class='toggle' href='javascript:void(0)'> 
<span class='zippy'> 
 
                      &#9658;&#160;
                    
</span> 
</a> 
<a class='post-count-link' href='http://blog.mikedll.com/2008_05_01_archive.html'>May</a> 
<span class='post-count' dir='ltr'>(1)</span> 
<ul class='posts'> 
<li><a href='http://blog.mikedll.com/2008/05/accurev-on-linux-quickstart.html'>AccuRev on Linux Quickstart</a></li> 
</ul> 
</li> 
</ul> 
</li> 
</ul> 
<ul> 
<li class='archivedate collapsed'> 
<a class='toggle' href='javascript:void(0)'> 
<span class='zippy'> 
 
                      &#9658;&#160;
                    
</span> 
</a> 
<a class='post-count-link' href='http://blog.mikedll.com/search?updated-min=2007-01-01T00%3A00%3A00-08%3A00&updated-max=2008-01-01T00%3A00%3A00-08%3A00&max-results=1'>2007</a> 
<span class='post-count' dir='ltr'>(1)</span> 
<ul> 
<li class='archivedate collapsed'> 
<a class='toggle' href='javascript:void(0)'> 
<span class='zippy'> 
 
                      &#9658;&#160;
                    
</span> 
</a> 
<a class='post-count-link' href='http://blog.mikedll.com/2007_09_01_archive.html'>September</a> 
<span class='post-count' dir='ltr'>(1)</span> 
<ul class='posts'> 
<li><a href='http://blog.mikedll.com/2007/09/generating-ssh-keys-for-automatic-login.html'>Generating SSH keys for automatic Login</a></li> 
</ul> 
</li> 
</ul> 
</li> 
</ul> 
</div> 
</div> 
<div class='clear'></div> 
<span class='widget-item-control'> 
<span class='item-control blog-admin'> 
<a class='quickedit' href='http://www.blogger.com/rearrange?blogID=7582484020620472706&widgetType=BlogArchive&widgetId=BlogArchive1&action=editWidget' onclick='return _WidgetManager._PopupConfig(document.getElementById("BlogArchive1"));' target='configBlogArchive1' title='Edit'> 

</a> 
</span> 
</span> 
<div class='clear'></div> 
</div> 
</div><div class='widget Label' id='Label1'> 
<h2>Labels</h2> 
<div class='widget-content list-label-widget-content'> 
<ul> 
<li> 
<span dir='ltr'>SysAdmin</span> 
<span dir='ltr'>(5)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/needs%20final%20proof'>needs final proof</a> 
<span dir='ltr'>(4)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/bio'>bio</a> 
<span dir='ltr'>(2)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/in%20progress'>in progress</a> 
<span dir='ltr'>(2)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/programming'>programming</a> 
<span dir='ltr'>(2)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/reading%20summary'>reading summary</a> 
<span dir='ltr'>(2)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/snippet'>snippet</a> 
<span dir='ltr'>(2)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/tech'>tech</a> 
<span dir='ltr'>(2)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/care'>care</a> 
<span dir='ltr'>(1)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/children'>children</a> 
<span dir='ltr'>(1)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/food'>food</a> 
<span dir='ltr'>(1)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/health'>health</a> 
<span dir='ltr'>(1)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/personal%20results'>personal results</a> 
<span dir='ltr'>(1)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/physics'>physics</a> 
<span dir='ltr'>(1)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/prokarotes'>prokarotes</a> 
<span dir='ltr'>(1)</span> 
</li> 
<li> 
<a dir='ltr' href='http://blog.mikedll.com/search/label/software'>software</a> 
<span dir='ltr'>(1)</span> 
</li> 
</ul> 
<div class='clear'></div> 
<span class='widget-item-control'> 
<span class='item-control blog-admin'> 
<a class='quickedit' href='http://www.blogger.com/rearrange?blogID=7582484020620472706&widgetType=Label&widgetId=Label1&action=editWidget' onclick='return _WidgetManager._PopupConfig(document.getElementById("Label1"));' target='configLabel1' title='Edit'> 

</a> 
</span> 
</span> 
<div class='clear'></div> 
</div> 
</div></div> 
</div> 
<div id='crosscol-wrapper' style='text-align:center'> 
<div class='crosscol section' id='crosscol'></div> 
</div> 
<div id='main-wrapper'> 
<div class='main section' id='main'><div class='widget Blog' id='Blog1'> 
<div class='blog-posts hfeed'> 
<div class='status-msg-wrap'> 
<div class='status-msg-body'> 
Showing posts with label <b>SysAdmin</b>. <a href="http://blog.mikedll.com/">Show all posts</a> 
</div> 
<div class='status-msg-border'> 
<div class='status-msg-bg'> 
<div class='status-msg-hidden'>Showing posts with label <b>SysAdmin</b>. <a href="http://blog.mikedll.com/">Show all posts</a></div> 
</div> 
</div> 
</div> 
<div style='clear: both;'></div> 
<!-- google_ad_section_start(name=default) --> 
<h2 class='date-header'>Friday, August 14, 2009</h2> 
<div class='post hentry uncustomized-post-template'> 
<a name='7727374499196168218'></a> 
<h3 class='post-title entry-title'> 
<a href='http://blog.mikedll.com/2009/08/deploying-rails-application-to_14.html'>Deploying a Rails Application to Dreamhost Part 2</a> 
</h3> 
<div class='post-header-line-1'></div> 
<div class='post-body entry-content'> 
<p>I've <a href="http://mikedllprobs.blogspot.com/2009/08/deploying-my-rails-application-to.html">created an empty Demo app in Dreamhost</a>. I have a working Rails app locally. I need it working at Dreamhost remotely. I need a fast edit-and-deploy process. I need backups.</p> 
 
<h1>Assumptions, Versions:</h1> 
 
<p>I overload the term "Dreamhost" here to also denote the Dreamhost server that hosts all my domains and servers, including mikedll.com, demo.mikedll.com, and the hypothetical projectname.mikedll.com.</p> 
 
<p>A MySQL deployment database has been created via Dreamhosts' Web Panel. Rails knows its contact info.</p> 
 
<p>My demo app has been launched by Dreamhost using FastCGI, so I'll use FastCGI here (as oppose to <a href="http://www.modrails.com/">Passenger</a>).</p> 
 
<p>Files like config/environment.rb, the logs/ directory, and the vendor/ directory don't need to be synced, but most other files do. A version control system can help with this. Beyond synchronization, it will help me recover when I break a feature. SCP and rsync won't do this. I'll use Git. <a href="http://hiddenreflex.com/main/?p=28">Hidden Reflex says Git is better than Mercurial and compatible with Trac</a>. Git has <a href="http://github.com/">Github</a>, which makes it trendy. Git also supports tiered revision, which Subversion doesn't. I've been used to tiered revisions since using <a href="http://www.accurev.com/">AccuRev</a>.</p> 
 
<p><a href="http://www.syncplicity.com/">Syncplicity</a>, which I've been using for nine months, will be used for semi-automatic backups.</p> 
 
<p>Local and remote software versions compare as follows:</p> 
 
<ul> 
<li>Operating System: Local Ubuntu 8.04.3 LTS (Hardy Heron) vs Dreamhost some variant of Linux 2.6.24 </li> 
<li>Ruby: Local 1.8.6 vs Dreamhost 1.8.5 </li> 
<li>Rails: Local 2.0.2 vs Dreamhost 2.2.2</li> 
<li>RubyGems: Local 0.9 vs Dreamhost 1.3.1</li> 
</ul> 
 
<p>My Ubuntu package manager is behind on versions for both RubyGems and Rails. Besides this problem, most of the community uses RubyGems for package management, not a default package manager.</p> 
 
<p>Given that I'm on Rails 2.0.2 and Dreamhost is on 2.2.2, I anticipate version conflicts. I've encountered <a href="http://mikedllprobs.blogspot.com/2009/08/rails-cygwin-gems-issue.html">a similar situation</a> before.</p> 
 
<h1>Develop a Plan</h1> 
 
<p>To avoid the version conflicts, I'll sync Rails versions. It'll be an upgrade for me.</p> 
 
<p>I'll manually install RubyGems and use it to install Rails.</p> 
 
<p>I will continue to use Ubuntu's package manager for non-ruby dependencies.</p> 
 
<p>After that, I'll learn Git via <a href="http://www.kernel.org/pub/software/scm/git/docs/gittutorial.html">the Git tutorial</a>, and then put it in charge of my app.</p> 
 
<p>I can <strong>test</strong> my edit-and-deploy process by making changes and then <strong>expecting</strong> to observe them on Dreamhost.</p> 
 
<h1>Carrying Out The Plan</h1> 
 
<p>I downloaded the following packages and gems into my <code>~/settings/packages</code> directory.</p> 
 
<ul> 
<li><a href="http://rubyforge.org/frs/?group_id=126">RubyGems 1.3.5</a> (package).</li> 
<li><a href="http://rubyforge.org/frs/?group_id=307">Rails 2.2.2</a> (gem)</li> 
<li><a href="http://rubyforge.org/frs/?group_id=254&amp;release_id=37214">sqlite3-ruby 1.2.5</a> (gem)</li> 
</ul> 
 
<p>I put RubyGems in charge.</p> 
 
<pre><code class="brush: bash; gutter: false;"># Remove Ubuntu's versions
sudo aptitude remove rails
sudo aptitude remove rubygems
 
# Install RubyGems.
# The only surprise here is that I have to create a symlink.
tar -xzf ./rubygems-1.3.5.tgz.tar -C ~/
cd ~/rubygems-1.3.5
sudo ruby setup.rb
sudo ln -s /usr/bin/gem1.8 /usr/bin/gem
</code></pre> 
 
<p>I then installed some dependencies with Ubuntu. The ruby 1.8 development files <a href="http://mentalized.net/journal/2006/01/24/no_such_file_to_load_mkmf/">may be required</a> by the sqlite3-ruby gem. The sqlite3 development headers are definitely required. Without them, the sqlite3-ruby gem gives a "missing sqlite3.h" build error.</p> 
 
<pre><code class="brush: bash; gutter: false;"># Following above explanations, get sqlite3-ruby dependencies
sudo aptitude install ruby1.8-dev
sudo aptitude install libsqlite3-dev
</code></pre> 
 
<p>While installing gems. I explicitly specified the Dreamhost versions. RubyGems recognized and used the downloaded .gem files, which were in the current working directory.</p> 
 
<pre><code class="brush: bash; gutter: false;">sudo gem install -V sqlite3-ruby --version 1.2.5
sudo gem install -V rails --version 2.2.2
cd ~/myapp
rake rails:update  # update my app's files to 2.2.2
</code></pre> 
 
<p>Here, I deleted deprecated calls to <code>cache_template_extensions=</code> and <code>cache_template_loading=</code> in some config/environments/*.rb files.</p> 
 
<p>I then learned and setup Git.</p> 
 
<pre><code class="brush: bash; gutter: false;"># On Dreamhost, create a remote repository:
mkdir -p ~/git/projectname
cd ~/git/projectname
git init
 
# On local laptop:
cd projectname # This is folder of my existing app that is not yet versioned
git init
git add .
git commit -m "First revisioned copy of my code."
 
# Still on local laptop, configure it as a clone the remote repository.
# The remote repository will then be "upstream" of this local one:
git remote add origin mrmike@mikedll.com:git/projectname # Name remote repo 'origin'
git config branch.master.remote origin               # Track remote 'origin'
git config branch.master.merge master                # ... the master branch
git push                                             # Inform 'origin' of commit
 
# Back to Dreamhost, we create a deployed working copy:
git clone ~/git/projectname ~/projectname.mikedll.com
cd ~/projectname.mikedll.com
git pull
</code></pre> 
 
<p>My code was in deployment position. I reviewed my <a href="http://mikedllprobs.blogspot.com/2009/08/deploying-my-rails-application-to.html">demo app experience</a> to fix file permissions and configure FastCGI. I reproduce a couple steps from that experience here:</p> 
 
<pre><code class="brush: bash; gutter: false;"># Added this to my .bash_profile, for running rake commands
export RAILS_ENV='production' 
 
# Initialize the remote mysql database. Here, rails worked flawlessly.
rake db:migrate
</code></pre> 
 
<p>My applicaiton should now be deployed and under version control.</p> 
 
<h1>Review the solution</h1> 
 
<p>I <strong>test</strong> my solution by editing files locally, commiting them with Git, logging into mikedll.com and pulling the changes, and viewing the website at its public URL. I <strong>expect</strong> to see my changes.</p> 
 
<p>Then I <strong>test</strong> my backups by pulling changes into the Windows working copy of the central repository, letting Syncplicity see the changes and back them up to its servers, and viewing my backed up files through the Flash interface at the Syncplicity website. I <strong>expect</strong> to see the changes reflected in those files.</p> 
 
<p>These tests passed. I had successfully deployed my web app to Dreamhost.</p> 
 
<p>I could also use Git to send changes from Dreamhost to my laptop. This will be used when bugs are fixed on the remote production server.</p> 
 
<p><code>git commit</code> by definition doesn't require a password like Subversion would, but <code>git push</code> and <code>git pull</code> do. I <a href="http://mikedllprobs.blogspot.com/2009/08/ssh-keys.html">setup private/public SSH keys</a> to simplify this edit-and-deploy process further.</p> 
 
<p>I used this result to converting my existing static website, mikedll.com, into an identically setup Rails/Git/Dreamhost configuration.</p> 
 
<p>A <em>struggle</em> while carrying out the plan was that, due to extremely poor internet at the time, I had to manually fetch certain gems including actionpack, activesupport, activerecord, actionmailer, and activeresource. RubyGems kept timing out when trying to download them. I omitted these downloads from the above list because if my internet had been better, RubyGems would've installed them for me.</p> 
 
<p>A <em>failure</em> while carrying out the plan was that I tried to do some things with Git that may not have made sense. Originally, I had hoped to avoid a central repository, and to instead push updates from my local laptop repository to remote and backup repositories. I couldn't get this to work, though. I might have been needlessly running from a centralized setup for the sake of being different, instead of trying to get things done.</p> 
 
<h1>Future and Related Work</h1> 
 
<p><a href="http://heroku.com/">Heroku</a> offers special Rails hosting such that your edit-and-deploy process can consist of <em>a single rake command</em>.</p> 
 
<p>Dealing with conflicts in Rails versions is a known problem and a popular solution is to <a href="http://www.softiesonrails.com/2008/1/3/freezing-your-rails-application">freeze rails</a>.</p> 
 
<p>The user experiences that alerted me to the deprecations of <code>cache_template_extensions=</code> and <code>cache_template_loading=</code> were <a href="http://paulsturgess.co.uk/articles/show/75-undefined-method-cache_template_extensions-when-upgrading-to-ruby-on-rails-222">Paul Sturgess' snippets collection</a> and <a href="http://forums.mor.ph/forums/8/topics/191">the Morph Labs website</a>, respectively.</p> 
 
<p>A <a href="http://stackoverflow.com/questions/1184518/getting-existing-git-branches-to-track-remote-branches">Stackoverflow entry</a> showed me how to configure an existing repository as if it were created with the clone command. This avoids the dirty method of cloning a new local repository and deleting the existing repository, which I had done at first and felt embarrassingly weaksauce.</p> 
 
<p>My local laptop environment is actually Ubuntu on <a href="http://www.virtualbox.org/">VirtualBox</a>, but Syncplicity only works on Windows. So, I created another windows working copy off the central one just for Syncplicity. It will be my (manual) responsibility to pull updates to this copy when I want a backup that is neither on Dreamhost's hard drives nor my own.</p> 
 
<p>My edit-and-deploy process is still <a href="http://www.joelonsoftware.com/articles/fog0000000043.html">missing some vital steps</a> for it to scale, but it will suffice for now. Months from now as bugs begin to pile up, how will I manage them? How will I integrate tickets and milestones? With <a href="http://trac.edgewall.org/">Trac</a>? With <a href="http://lighthouseapp.com/">Lighthouse</a>?</p> 
 
<p>Seemingly, <a href="http://www.capify.org/index.php/Capistrano">Capistrano</a> helps with Rails deployments and many system administration tasks where you have to login to many servers, but I haven't examined it in any depth yet.</p> 
 
<p>Dreamhost strongly recommends launching rails apps with <a href="http://www.modrails.com/">Passenger</a> instead of FastCGI. I will add that as a future todo for my project.</p> 
<div style='clear: both;'></div> 
</div> 
<div class='post-footer'> 
<div class='post-footer-line post-footer-line-1'> 
<span class='post-author vcard'> 
Posted by
<span class='fn'>Mike De La Loza</span> 
</span> 
<span class='post-timestamp'> 
at
<a class='timestamp-link' href='http://blog.mikedll.com/2009/08/deploying-rails-application-to_14.html' rel='bookmark' title='permanent link'><abbr class='published' title='2009-08-14T23:49:00-07:00'>11:49 PM</abbr></a> 
</span> 
<span class='reaction-buttons'> 
</span> 
<span class='star-ratings'> 
</span> 
<span class='post-comment-link'> 
</span> 
<span class='post-backlinks post-comment-link'> 
</span> 
<span class='post-icons'> 
<span class='item-control blog-admin pid-1060056685'> 
<a href='http://www.blogger.com/post-edit.g?blogID=7582484020620472706&postID=7727374499196168218' title='Edit Post'> 

</a> 
</span> 
</span> 
</div> 
<div class='post-footer-line post-footer-line-2'> 
<span class='post-labels'> 
Labels:
<a href='http://blog.mikedll.com/search/label/needs%20final%20proof' rel='tag'>needs final proof</a>,
<a href='http://blog.mikedll.com/search/label/programming' rel='tag'>programming</a>,
<a href='http://blog.mikedll.com/search/label/SysAdmin' rel='tag'>SysAdmin</a> 
</span> 
</div> 
<div class='post-footer-line post-footer-line-3'> 
<span class='post-location'> 
</span> 
</div> 
</div> 
</div> 
<div id="latency-7727374499196168218"></div><script type="text/javascript">if (window['tickAboveFold']) {window['tickAboveFold'](document.getElementById("latency-7727374499196168218")); } </script> 
<h2 class='date-header'>Tuesday, August 11, 2009</h2> 
<div class='post hentry uncustomized-post-template'> 
<a name='7894071033274442636'></a> 
<h3 class='post-title entry-title'> 
<a href='http://blog.mikedll.com/2009/08/create-rails-application-on-dreamhost.html'>Create a Rails Application on Dreamhost</a> 
</h3> 
<div class='post-header-line-1'></div> 
<div class='post-body entry-content'> 
<ol> 
<li><p>In the Dreamhost Web Panel, <a href="http://panel.dreamhost.com">panel.dreamhost.com</a>:</p><ol> 
<li><p>Create demo.mikedll.com. Wait until the domain name is resolvable.</p></li> 
<li><p>In the host configuration, check "Enable FastCGI" and serve documents from <code>/home/myusername/demo.mikedll.com/public</code>.</p></li> 
</ol></li> 
<li><p>SSH into the web server and run:</p><pre><code class="brush: bash; gutter: false;"># Create the app
rails demo.mikedll.com
 
 
# Go into the public directory
cd demo.mikedll.com/public
 
 
# Recurisvely add world-executable to directories
find . -type d -exec chmod o+x {} \;
 
 
# Recursively add world-readable to files
find . ! \( -type l \) ! \( -type d \) -exec chmod o+r {} \;
</code></pre></li> 
<li><p>In the root of the application directory, run:</p><pre><code class="brush: bash; gutter: false;"># Make dynamic-content
./script/generate controller demo index`.
 
 
# Initialize the sqlite database
rake db:migrate
</code></pre></li> 
<li><p>Create <code>demo.mikedll.com/public/.htaccess</code> with:</p><pre><code># Launch dispatch.fcgi on requests for which
# there is no static file
AddHandler fastcgi-script fcgi
RewriteEngine On
RewriteBase /
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ dispatch.fcgi [QSA,L]
</code></pre></li> 
<li><p>Remove <code>demo.mikedll.com/public/index.html</code>.</p></li> 
<li><p>Done</p></li> 
</ol><p>Expect visits to demo.mikedll.com to display static content.</p><p>Expect visits to demo.mikedll.com/demo to display dynamic content.</p><h1>Pitfalls</h1><ul> 
<li><p>This Apache error:</p><pre><code class="brush: plain; gutter: false;">[...] [error] [client ...] File does not exist: ... demo.mikedll.com/public/missing.html
</code></pre><p>occurs if the .htaccess file is omitted.</p></li> 
<li><p>Recent changes in the application code are not visible if an already-running instance of the application is not killed with <code>killall dispatch.fcgi</code>.</p></li> 
<li><p>This Apache error:</p><pre><code class="brush: plain; gutter: false;">[...] [error] [client ...] FastCGI: comm with (dynamic) server ".../current/public/dispatch.fcgi" aborted: (first read) idle timeout (60 sec)
[...] [error] [client ...] FastCGI: incomplete headers (0 bytes) received from server ".../current/public/dispatch.fcgi"
</code></pre><p>occurs when then application crashes while loading. For example, I get this error when my <code>config/environment.rb</code> has a bug in it. The browser will hang for 60 seconds before the server responds with a terse, generic, rails error.</p><p>To debug such issues, I run <code>./dispatch.fcgi</code> at the command line. No arguments are required. Usually dispatch.fcgi will crashe, give an informative error, and provide faster debugging feedback.</p></li> 
</ul><h1>Similar Work</h1><p>More Trouble-shooting help is available in <a href="http://wiki.dreamhost.com/Rails">the Dreamhost "Rails Wiki"</a>.</p><p>Another guide on a <a href="http://lists.radiantcms.org/pipermail/radiant/2007-May/004708.html">Dreamhost/Rails/Radiant deployment</a> features an application that has many users. It goes into more depth and draws on more experience.</p><p>My guide builds on <a href="http://rubydreams.dreamhosters.com/2009/05/running-an-application-using-fastcgi/">another guide published early this year</a>. This guide had some screenshots and clear directions. However, the .htaccess file in that guide doesn't serve static content, which was a problem for me. Someone else had <a href="http://blog.brettski.com/2009/06/16/ruby-update/">the same problem</a>. While solving this problem, I used sample .htaccess files at <a href="http://wiki.railsplayground.com/railsplayground/show/FastCGI+htaccess+file">The Rails Playground</a> and <a href="http://snipplr.com/view/8872/bluehost-rails-publichtaccess-for-fastcgi">this Snipplr entry</a>.</p><h1>Related Technology</h1><p><a href="http://www.modrails.com/">Passenger</a> is a deployment configuration that is different from FastCGI. Dreamhost supports it, but I haven't gotten it to work yet.</p><p><a href="http://nubyonrails.com/pages/shovel_dreamhost">Capistrano</a> has something to do with automating common server tasks, like application deployment.</p> 
<div style='clear: both;'></div> 
</div> 
<div class='post-footer'> 
<div class='post-footer-line post-footer-line-1'> 
<span class='post-author vcard'> 
Posted by
<span class='fn'>Mike De La Loza</span> 
</span> 
<span class='post-timestamp'> 
at
<a class='timestamp-link' href='http://blog.mikedll.com/2009/08/create-rails-application-on-dreamhost.html' rel='bookmark' title='permanent link'><abbr class='published' title='2009-08-11T10:06:00-07:00'>10:06 AM</abbr></a> 
</span> 
<span class='reaction-buttons'> 
</span> 
<span class='star-ratings'> 
</span> 
<span class='post-comment-link'> 
</span> 
<span class='post-backlinks post-comment-link'> 
</span> 
<span class='post-icons'> 
<span class='item-control blog-admin pid-1060056685'> 
<a href='http://www.blogger.com/post-edit.g?blogID=7582484020620472706&postID=7894071033274442636' title='Edit Post'> 

</a> 
</span> 
</span> 
</div> 
<div class='post-footer-line post-footer-line-2'> 
<span class='post-labels'> 
Labels:
<a href='http://blog.mikedll.com/search/label/programming' rel='tag'>programming</a>,
<a href='http://blog.mikedll.com/search/label/SysAdmin' rel='tag'>SysAdmin</a> 
</span> 
</div> 
<div class='post-footer-line post-footer-line-3'> 
<span class='post-location'> 
</span> 
</div> 
</div> 
</div> 
<div id="latency-7894071033274442636"></div><script type="text/javascript">if (window['tickAboveFold']) {window['tickAboveFold'](document.getElementById("latency-7894071033274442636")); } </script> 
<h2 class='date-header'>Monday, January 12, 2009</h2> 
<div class='post hentry uncustomized-post-template'> 
<a name='751526844992711281'></a> 
<h3 class='post-title entry-title'> 
<a href='http://blog.mikedll.com/2009/01/rails-cygwin-gems-issue.html'>Rails Cygwin Gems Issue</a> 
</h3> 
<div class='post-header-line-1'></div> 
<div class='post-body entry-content'> 
<p>I have an existing web app that I used successfully in linux over a year ago. I go to launch it in a Cygwin gem installation, with Cygwin's installation of Ruby.</p> 
 
<p><strong>Symptom:</strong> The web app doesn't launch. Instead I get:</p> 
 
<pre><code class="brush: bash; gutter: false;">~/Temp/cookbook
Mike, HIT that shit: ls
README  Rakefile  app  components  config  db  doc  lib  log  public  script  test  tmp  vendor
~/Temp/cookbook
Mike, HIT that shit: ./script/server
./script/../config/boot.rb:28: undefined method `require_gem' for main:Object (NoMethodError)
    from ./script/server:2:in `require'
    from ./script/server:2
</code></pre> 
 
<p>I don't have any immediate ideas for how to fix this. I don't understand what the error message is saying. My guess is that some library load path is wrong; I've seen issues like this before when I look it up.</p> 
 
<p><strong>More Information:</strong> I read online for more information about this error, specifically in the context of rails. People wrote that sometimes this can be a symptom of an old rails application having an incorrect config file.</p> 
 
<p>As a test, I used my current version of rails to create a new rails application, and did a recursive diff on them. There were many differences that had nothing to do with the core of my application.</p> 
 
<p>I then figured I should update my application to work with a more modern version of rails. I tried googling how to do this, and I found <a href="http://bparanj.blogspot.com/2006/06/upgrading-old-rails-application-for.html">a common solution for this using "rake"</a>, which is an app I've heard a lot about. </p> 
 
<p>Rake made no sense to me at first because it was called a "build" system, and Ruby is a dynamic language so code shouldn't need to be compiled. But then I finally realized you could use rake to build projects in Java, or C++, and replace conventional makefiles. Whoops =\</p> 
 
<p>Anyway, the file that contains a lot of "useful info" is config/environment.rb. In my case, at least the gems version was mismatched. The file contained version 1.1.6, while gem -v returned 1.1.1. I tried to use rake to update my application, as above, but the command failed; "undefined method 'require_gem'".
<strong>Conjecture:</strong> If I make a new application, and run that one, and it works, then what does that mean? It means I've conjectured that something is wrong with my old application code.</p> 
 
<p>I had deleted the new application, but when I re-made a new one, and run its ./script/server, it worked! Well, the WebBrick server ran and I was able to load the front ruby page in a web browser on another machine by connecting to <a href="http://192.168.3.103:3000/">http://192.168.3.103:3000/</a>.</p> 
 
<p>The first link on it failed with an sqlite error, which I can fix later.</p> 
 
<p>So now this raises the question, what's wrong with my existing application so that it won't even launch the front page? It must be something in my old application code...</p> 
 
<p><strong>Information:</strong></p> 
 
<p>I figured out what the error means. If you write a trivial program and try to call a function foo that isn't defined, you get a "undefined method 'foo' for main:Object (NoMethodError)" where foo is the name of the function that you tried to call.</p> 
 
<p>So, require_gem isn't defined, even though it should be. Who provides this function? Why isn't that person's work available in the runtime?</p> 
 
<p><strong>Information:</strong> 
I walked up to the offending line using print statements to verify that boot.rb was the file that was offending, as the error suggested.</p> 
 
<p>boot.rb uses <code>require_gem</code>, but this isn't defined. This method has been deprecated [<a href="http://www.ruby-forum.com/topic/109100">See Jim's comment</a>].</p> 
 
<p>In a current version of a ruby autogenerated application, "gem" is used instead.</p> 
 
<p><a href="http://dev.rubyonrails.org/ticket/6886">This was a known issue with Rails that has been fixed</a>.</p> 
 
<p><strong>Conjectured Solution 1:</strong> If I manually replace boot.rb file to use "gem" instead of "require_gem", then things will work.</p> 
 
<p>A reproduction of the problem is this tiny script:</p> 
 
<pre><code class="brush: ruby; gutter: false;">#!/usr/bin/ruby
 
require 'rubygems'
require_gem "rails"
</code></pre> 
 
<p>Which can be fixed with:</p> 
 
<pre><code class="brush: ruby; gutter: false;">#!/usr/bin/ruby
 
require 'rubygems'
gem "rails"
</code></pre> 
 
<p>By replacing <code>require_gem</code> with <code>gem</code> in boot.rb, the issue is fixed temporarily.</p> 
 
<p>The script/server script worked correctly, and served up the main webpage.</p> 
 
<p>But it isn't clear how to update boot.rb in a permanent fashion. Indeed, my old cookbook application worked well because it defaulted to using a mysql database driver.</p> 
 
<p>The <code>rake rails:update</code> also runs without a crash, but this corrupted the boot.rb file to revert to its old state where it uses <code>require_gem</code>, so this is actually a harmful step to take. I looked up "rake rails:update" on google, and <a href="http://thinkingrails.blogspot.com/2007/06/rails-rake-tasks-reference.html">found a handy reference for all the rake "tasks"</a>. This may be handy later on.</p> 
 
<p><strong>Conjectured Solution 2:</strong> Replace the boot.rb file with a file from a newly created rails project. But this file is totally incompatible with the given rails configuration, and the rake command crashes.</p> 
 
<p><strong>Conjectured Solution 3:</strong> Maybe environment.rb also has issues. I compared my app's environment.rb to a new app's environment.rb, and found a <code>RAILS_GEM_VERSION</code> difference. My app uses a 1.x version, while the new app uses a 2.x version. It is possible that when I run <code>rake rails:update</code>, it "updates" my rails to an old version denoted in this file. I edited my app's environment.rb to use my 2.x version of rails.</p> 
 
<p>If I do this and also use Conjectured Solution 1 of replacing <code>require_gem</code> calls, and then do a <code>rake rails:update</code>, then perhaps my app will be properly updated.</p> 
 
<p>I tried this, and the first thing I noticed is that the update took a much longer time (seconds instead of miliseconds). I inspected boot.rb, and it had not been clobbered, as with Solution 1!</p> 
 
<p>I ran rake rails:update again, and it still worked!</p> 
 
<p>I ran script/server, and it worked!</p> 
 
<p>This resolved the require_gem issue.</p> 
 
<p>After this, I did have a new problem, where I was getting 500 server errors, but that was separate from this problem, which was now solved.</p> 
 
<h4>Reviewing the solution</h4> 
 
<ul> 
<li>Leaving a rails application stale and dead for years at a time is a bad idea. This is what happened here.</li> 
<li>Rake appears to have a bunch of "tasks" associated with it.</li> 
<li>There is a difference between activating a gem, and loading the gem. "require" loads a file. "activating" a gem just points the ruby load path to the appropriate paths denoted by the gem.</li> 
<li>Run "ruby -r debug" to go into ruby debug mode, instead of having to print statments. ( Python also supports "python -m pdb" ).</li> 
</ul> 
<div style='clear: both;'></div> 
</div> 
<div class='post-footer'> 
<div class='post-footer-line post-footer-line-1'> 
<span class='post-author vcard'> 
Posted by
<span class='fn'>Mike De La Loza</span> 
</span> 
<span class='post-timestamp'> 
at
<a class='timestamp-link' href='http://blog.mikedll.com/2009/01/rails-cygwin-gems-issue.html' rel='bookmark' title='permanent link'><abbr class='published' title='2009-01-12T00:23:00-08:00'>12:23 AM</abbr></a> 
</span> 
<span class='reaction-buttons'> 
</span> 
<span class='star-ratings'> 
</span> 
<span class='post-comment-link'> 
</span> 
<span class='post-backlinks post-comment-link'> 
</span> 
<span class='post-icons'> 
<span class='item-control blog-admin pid-1060056685'> 
<a href='http://www.blogger.com/post-edit.g?blogID=7582484020620472706&postID=751526844992711281' title='Edit Post'> 

</a> 
</span> 
</span> 
</div> 
<div class='post-footer-line post-footer-line-2'> 
<span class='post-labels'> 
Labels:
<a href='http://blog.mikedll.com/search/label/needs%20final%20proof' rel='tag'>needs final proof</a>,
<a href='http://blog.mikedll.com/search/label/SysAdmin' rel='tag'>SysAdmin</a> 
</span> 
</div> 
<div class='post-footer-line post-footer-line-3'> 
<span class='post-location'> 
</span> 
</div> 
</div> 
</div> 
<div id="latency-751526844992711281"></div><script type="text/javascript">if (window['tickAboveFold']) {window['tickAboveFold'](document.getElementById("latency-751526844992711281")); } </script> 
<h2 class='date-header'>Thursday, May 15, 2008</h2> 
<div class='post hentry uncustomized-post-template'> 
<a name='7020462643877569929'></a> 
<h3 class='post-title entry-title'> 
<a href='http://blog.mikedll.com/2008/05/accurev-on-linux-quickstart.html'>AccuRev on Linux Quickstart</a> 
</h3> 
<div class='post-header-line-1'></div> 
<div class='post-body entry-content'> 
<p>How do I checkout an AccuRev workspace? How do I work with it?</p> 
 
<p>AccuRev <strong>installation</strong> is easy on Linux. Get their <a href="http://www.accurev.com/download.htm">installer</a>, run it, and follow the prompts. Choose a "client" installation instead of a "full" installation. When it asks for the "hostname", put in exactly that - an IP or a hostname. Don't include the port. It asks for the port in the next prompt.</p> 
 
<p>Here are some commands:</p> 
 
<pre><code class="brush: bash; gutter: false;"># Create the workspace
# I think -b denotes "backing" as in backing stream
accurev show -p PROJECT_Unreleased streams accurev mkws -w new_workspace_name -b Stream\ for\ Cross-Developer\ Testing -l ./local_directory
 
# Set your AccuRev username in the environment for commands that follow
accurev login mikedll
 
# Sometimes the client loses time sync with the server, and we
# had to do this before running commands.
sudo accurev synctime
 
# shows status of modifed, and not in default group
# changes that need to be promoted/committed.
accurev stat -n
 
# shows overlap only
# changes that may conflict with changes upstream
accurev stat -o
 
# merges conflicts in overlapp group
# note that sometimes you have to go in and merge them yourself with an editor
accurev merge -o
 
# Keep modified group into the default group,
# get updates, and promote the default group
# this will be a typical promote/commit process.
accurev keep -m
accurev update
accurev promote -d
</code></pre> 
 
<p>If you get the error <code>Element would be stranded</code>, this could be avoided by "purging" your private changes of a file that has been defuncted, or otherwise messed with, in the parent stream. Unfortunately I don't have that command here.</p> 
<div style='clear: both;'></div> 
</div> 
<div class='post-footer'> 
<div class='post-footer-line post-footer-line-1'> 
<span class='post-author vcard'> 
Posted by
<span class='fn'>Mike De La Loza</span> 
</span> 
<span class='post-timestamp'> 
at
<a class='timestamp-link' href='http://blog.mikedll.com/2008/05/accurev-on-linux-quickstart.html' rel='bookmark' title='permanent link'><abbr class='published' title='2008-05-15T03:19:00-07:00'>3:19 AM</abbr></a> 
</span> 
<span class='reaction-buttons'> 
</span> 
<span class='star-ratings'> 
</span> 
<span class='post-comment-link'> 
</span> 
<span class='post-backlinks post-comment-link'> 
</span> 
<span class='post-icons'> 
<span class='item-control blog-admin pid-1060056685'> 
<a href='http://www.blogger.com/post-edit.g?blogID=7582484020620472706&postID=7020462643877569929' title='Edit Post'> 

</a> 
</span> 
</span> 
</div> 
<div class='post-footer-line post-footer-line-2'> 
<span class='post-labels'> 
Labels:
<a href='http://blog.mikedll.com/search/label/software' rel='tag'>software</a>,
<a href='http://blog.mikedll.com/search/label/SysAdmin' rel='tag'>SysAdmin</a> 
</span> 
</div> 
<div class='post-footer-line post-footer-line-3'> 
<span class='post-location'> 
</span> 
</div> 
</div> 
</div> 
<div id="latency-7020462643877569929"></div><script type="text/javascript">if (window['tickAboveFold']) {window['tickAboveFold'](document.getElementById("latency-7020462643877569929")); } </script> 
<h2 class='date-header'>Saturday, September 15, 2007</h2> 
<div class='post hentry uncustomized-post-template'> 
<a name='3485337341608589178'></a> 
<h3 class='post-title entry-title'> 
<a href='http://blog.mikedll.com/2007/09/generating-ssh-keys-for-automatic-login.html'>Generating SSH keys for automatic Login</a> 
</h3> 
<div class='post-header-line-1'></div> 
<div class='post-body entry-content'> 
<p>Here is a copy of what I used off an <a href="http://www.oreilly.com/pub/h/66" title=" &quot;Guide for SSH Keys">O'Reilly guide</a> - I've ammended it with my changes.</p> 
 
<p>To use public keys with an ssh server, you'll first need to generate a public/private key pair:</p> 
 
<pre><code class="brush: bash; gutter: false">$ ssh-keygen -t rsa
</code></pre> 
 
<p>After you enter the above command, you should see something like:</p> 
 
<pre><code class="brush: bash; gutter: false">Generating public/private rsa key pair.
Enter file in which to save the key (/home/rob/.ssh/id_rsa):
</code></pre> 
 
<p>Just hit Enter there. It will then ask you for a pass phrase; just hit enter twice. Here's what the results should look like:</p> 
 
<pre><code class="brush: bash; gutter: false">Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /home/rob/.ssh/id_rsa.
Your public key has been saved in /home/rob/.ssh/id_rsa.pub.
The key fingerprint is:
a6:5c:c3:eb:18:94:0b:06:a1:a6:29:58:fa:80:0a:bc rob@localhost
</code></pre> 
 
<p>You can enter a password at the next part if you like, but then you'll have to enter that password every time you try to use the key, which almost defeats the purpose. A compromise is to enter a password, and then use:</p> 
 
<pre><code class="brush: bash; gutter: false">$ ssh-agent sh -c 'ssh-add &amp;lt; /dev/null &amp;amp;&amp;amp; bash
</code></pre> 
 
<p>Back to the original use case - this created two files, <code>~/.ssh/id_rsa</code> and
<code>~/.ssh/id_rsa.pub</code>. To use this keypair on a server, try this:</p> 
 
<pre><code class="brush: bash; gutter: false">$ ssh server "mkdir .ssh; chmod 0700 .ssh"
$ scp .ssh/id_rsa.pub server:.ssh/authorized_keys2
</code></pre> 
 
<p><code>.ssh/authorized_keys2</code> <strong>is a file, not a directory</strong>. the <code>.ssh</code> directory has permissions 700, as above. The subdirectory has permissions 644, I think.</p> 
 
<p>This task took about 5-10 minutes, and another 5-10 to create this writeup.</p> 
<div style='clear: both;'></div> 
</div> 
<div class='post-footer'> 
<div class='post-footer-line post-footer-line-1'> 
<span class='post-author vcard'> 
Posted by
<span class='fn'>Mike De La Loza</span> 
</span> 
<span class='post-timestamp'> 
at
<a class='timestamp-link' href='http://blog.mikedll.com/2007/09/generating-ssh-keys-for-automatic-login.html' rel='bookmark' title='permanent link'><abbr class='published' title='2007-09-15T04:52:00-07:00'>4:52 AM</abbr></a> 
</span> 
<span class='reaction-buttons'> 
</span> 
<span class='star-ratings'> 
</span> 
<span class='post-comment-link'> 
</span> 
<span class='post-backlinks post-comment-link'> 
</span> 
<span class='post-icons'> 
<span class='item-control blog-admin pid-1060056685'> 
<a href='http://www.blogger.com/post-edit.g?blogID=7582484020620472706&postID=3485337341608589178' title='Edit Post'> 

</a> 
</span> 
</span> 
</div> 
<div class='post-footer-line post-footer-line-2'> 
<span class='post-labels'> 
Labels:
<a href='http://blog.mikedll.com/search/label/SysAdmin' rel='tag'>SysAdmin</a> 
</span> 
</div> 
<div class='post-footer-line post-footer-line-3'> 
<span class='post-location'> 
</span> 
</div> 
</div> 
</div> 
<div id="latency-3485337341608589178"></div><script type="text/javascript">if (window['tickAboveFold']) {window['tickAboveFold'](document.getElementById("latency-3485337341608589178")); } </script> 
<!-- google_ad_section_end --> 
</div> 
<div class='blog-pager' id='blog-pager'> 
<span id='blog-pager-newer-link'> 
<a class='blog-pager-newer-link' href='http://blog.mikedll.com/search/label/SysAdmin?max-results=20' id='Blog1_blog-pager-newer-link' title='Newer Posts'>Newer Posts</a> 
</span> 
<a class='home-link' href='http://blog.mikedll.com/'>Home</a> 
</div> 
<div class='clear'></div> 
<div class='blog-feeds'> 
<div class='feed-links'> 
Subscribe to:
<a class='feed-link' href='http://blog.mikedll.com/feeds/posts/default' target='_blank' type='application/atom+xml'>Posts (Atom)</a> 
</div> 
</div> 
</div></div> 
</div> 
<!-- spacer for skins that want sidebar and main to be the same height--> 
<div class='clear'>&#160;</div> 
</div> 
<!-- end content-wrapper --> 


<script src='http://www.google.com/jsapi?key=ABQIAAAA72yvhISft7fcXhZGyvHBHxRsGGQrPf-nc6BgXjkx_4DXFvH7xxRDhZbcZcLQhHVpXhIMcqUTfHQQ8g' type='text/javascript'></script>
<script type='text/javascript' language="javascript">google.load("jquery", "1.5.1")</script>
<script src='http://www.mikedll.com/javascripts/math.js' type='text/javascript'/></script>
<link href="http://alexgorbatchev.com/pub/sh/3.0.83/styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
<script src="http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shCore.js" type="text/javascript"></script>
<script src="http://alexgorbatchev.com/pub/sh/3.0.83/scripts/shAutoloader.js" type="text/javascript"></script>
<script type='text/javascript' src='javascripts/syntaxHighlighterConfig.js'>
</script>


<!-- <link href='http://www.mikedll.com/stylesheets/sh/shCore.css' rel='Stylesheet' type='text/css'/>  -->
<!-- <link href='http://www.mikedll.com/stylesheets/sh/shThemeDefault.css' rel='Stylesheet' type='text/css'/>  -->
<!-- <script src='http://www.mikedll.com/javascripts/sh/shCore.js' type='text/javascript'></script>  -->
<!-- <script src='http://www.mikedll.com/javascripts/sh/shBrushBash.js' type='text/javascript'></script>  -->
<!-- <script src='http://www.mikedll.com/javascripts/sh/shBrushPlain.js' type='text/javascript'></script>  -->
<!-- <script src='http://www.mikedll.com/javascripts/sh/shBrushJava.js' type='text/javascript'></script>  -->
<!-- <script src='http://www.mikedll.com/javascripts/sh/shBrushCpp.js' type='text/javascript'></script>  -->
<!-- <script src='http://www.mikedll.com/javascripts/sh/shBrushPython.js' type='text/javascript'></script>  -->
<!-- <script src='http://www.mikedll.com/javascripts/sh/shBrushPerl.js' type='text/javascript'></script>  -->
<!-- <script src='http://www.mikedll.com/javascripts/sh/shBrushRuby.js' type='text/javascript'></script>  -->
<!-- <script language='javascript'>   -->
<!--   SyntaxHighlighter.config.bloggerMode=true; -->
<!--   SyntaxHighlighter.config.tagName = 'code'; -->
<!--   SyntaxHighlighter.all(); -->
<!-- </script>  -->
<!-- <script src='http://www.google.com/jsapi?key=ABQIAAAA72yvhISft7fcXhZGyvHBHxRsGGQrPf-nc6BgXjkx_4DXFvH7xxRDhZbcZcLQhHVpXhIMcqUTfHQQ8g' type='text/javascript'></script>  -->
<!-- <script type='text/javascript'>google.load('jquery', '1')</script>  -->
<!-- <script src='http://www.mikedll.com/javascripts/math.js' type='text/javascript'></script>  -->

<div id='footer-wrapper'> 
<div class='footer section' id='footer'></div> 
</div> 
</div></div> 
<!-- end outer-wrapper --> 

<!-- <script type='text/javascript'>  -->
<!-- var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); -->
<!-- document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E")); -->
<!-- </script>  -->
<!-- <script type='text/javascript'>  -->
<!-- try { -->
<!-- var pageTracker = _gat._getTracker("UA-8301470-2"); -->
<!-- pageTracker._trackPageview(); -->
<!-- } catch(err) {}</script>  -->
<!-- <script type="text/javascript">  -->
<!-- if (window.jstiming) window.jstiming.load.tick('widgetJsBefore'); -->
<!-- </script><script type="text/javascript" src="http://www.blogger.com/static/v1/widgets/4147537650-widgets.js"></script>  -->

</body> 
</html>
